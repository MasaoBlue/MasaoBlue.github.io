(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[961],{75517:function(e,n,r){"use strict";r(30467);var t=r(55673),o=(r(54277),r(74048)),c=r(85893),a=(r(35797),r(64749)),i=(r(58136),r(5789)),s=(r(89858),r(51024)),u=r(76570),l=r(67294),f=r(51148),d=r(39399),p=r(74462),v=r(32107),h=r.n(v),g="all";n.Z=function(e){var n=e.onKeywordChange,r=e.onPrefectureChange,v=e.onVersionChange,x=e.enableRekidai,b=void 0===x||x,m=e.enableAllPrefecture,w=void 0===m||m,y=(0,l.useState)("0"),k=y[0],j=y[1],O=(0,l.useState)(b?g:"28"),R=O[0],E=O[1],S=(0,l.useState)(""),C=S[0],P=S[1];(0,f.Z)(n,200,[C]);return(0,l.useEffect)((function(){v(R)}),[v,R]),(0,l.useEffect)((function(){null===r||void 0===r||r(k)}),[r,k]),(0,c.jsxs)(t.Z,{justify:"space-between",children:[(0,c.jsx)(i.Z,{children:(0,c.jsx)(s.Z,{placeholder:"search by title",prefix:(0,c.jsx)(u.Z,{}),onInput:function(e){P(e.target.value)},value:C})}),(0,c.jsx)(i.Z,{children:(0,c.jsxs)(o.default,{children:[r&&(0,c.jsxs)(a.default,{value:k,className:h().prefectureSelect,onChange:function(e){j(e),null===r||void 0===r||r(e)},children:[w&&(0,c.jsx)(a.default.Option,{value:g,children:"\u5168\u90fd\u9053\u5e9c\u770c"},g),d.v_.map((function(e,n){return(0,c.jsx)(a.default.Option,{value:"".concat(n),disabled:n>55,children:"".concat(n,".").concat(e).concat(n>55?"(\u6e96\u5099\u4e2d)":"")},e)}))]}),(0,c.jsx)(a.default,{value:R,className:h().versionSelect,onChange:function(e){E(e)},children:(0,c.jsxs)(a.default.OptGroup,{label:"\u516c\u5f0f",children:[b&&(0,c.jsx)(a.default.Option,{value:g,children:"\u6b74\u4ee3(SPADA-BISTROVER)"},g),!r&&[p._L[p._L.length-1]].reverse().map((function(e){var n=e.name,r=e.num;return(0,c.jsx)(a.default.Option,{value:"".concat(r),children:"".concat(r,".").concat(n)},n)}))]})})]})})]})}},74897:function(e,n,r){"use strict";r.d(n,{z:function(){return Z}});r(15144);var t=r(2307),o=r(85893),c=r(809),a=r.n(c),i=r(92447),s=(r(92015),r(4863)),u=(r(23461),r(53740)),l=r(32869),f=r(7728),d=(r(30467),r(55673)),p=(r(58136),r(5789)),v=(r(92871),r(74806)),h=r(67294),g=r(42108),x=r.n(g),b=function(e){return function(n){return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{children:n<100?"".concat(n,"%"):"Done"}),(0,o.jsx)(u.Z.Text,{className:x().progressTitle,children:e})]})}},m=function(e){var n=e.downloadProgress,r=e.calculationProgress;return(0,o.jsxs)(d.Z,{gutter:[32,0],justify:"center",children:[(0,o.jsx)(p.Z,{children:(0,o.jsx)(v.Z,{type:"circle",percent:n,format:b("download")})}),(0,o.jsx)(p.Z,{children:(0,o.jsx)(v.Z,{type:"circle",percent:r,format:b("calculation")})})]})},w=r(35723),y=r(97570),k=r.n(y),j=r(39657),O=r(2811),R=r(46237),E=r(22567),S=r.n(E),C=(0,o.jsx)(s.default,{message:"\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u3082\u3057\u304f\u306f\u8a08\u7b97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002",description:(0,o.jsx)(u.Z,{children:(0,o.jsxs)(u.Z.Text,{children:["\u6642\u9593\u304c\u7d4c\u3063\u3066\u3082\u89e3\u6c7a\u3057\u306a\u3044\u5834\u5408\u306f\u958b\u767a\u8005\u307e\u3067\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u3002",(0,o.jsx)("br",{}),"If the problem persists over time, please contact the developer."]})}),type:"error",showIcon:!0}),P=function(e){var n=e.expanded,r=e.onExpand,t=e.record;return n?(0,o.jsx)("div",{className:S().expandedCellInner,children:(0,o.jsx)(l.Z,{onClick:function(e){return r(t,e)},className:S().commonCell})}):(0,o.jsx)(f.Z,{onClick:function(e){return r(t,e)}})},Z=function(e){var n=e.columns,r=e.rowsCreator,c=e.scoreCsvPaths,s=e.onChange,u=e.onExpandedRowsChange,l=(0,h.useState)([]),f=l[0],d=l[1],p=(0,h.useState)(0),v=p[0],g=p[1],x=(0,h.useState)(0),b=x[0],y=x[1],E=(0,h.useState)(!1),Z=E[0],M=E[1],N=(0,h.useState)(!1),A=N[0],I=N[1],L=(0,w.ZP)(O.xn),D=L.data,T=L.error;(0,h.useEffect)((function(){d([]),M(!1),g(0),y(0),I(!1)}),[c]);var V=(0,w.ZP)(D?c:null,(function(){for(var e=new j.K(D),n=0,r=function(r){return fetch(r).then((function(e){return e.text()})).then((function(r){return n+=1,g(Math.round(n/c.length*100)),(0,R.MN)(r,e)})).catch((function(e){throw console.error(e),e}))},t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return k()(7,o,r)}),{}),_=V.data,H=V.error;return(0,h.useEffect)((function(){!_||v<100||Z||(M(!0),function(){var e=(0,i.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(_,y);case 3:n=e.sent,y(100),d(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),I(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()())}),[v,_,Z,r]),T||H||A?C:(0,o.jsx)(o.Fragment,{children:0===f.length?(0,o.jsx)(m,{downloadProgress:v,calculationProgress:b}):(0,o.jsx)(t.Z,{sticky:!0,pagination:{defaultPageSize:100,position:["topRight","bottomRight"]},showSorterTooltip:!1,size:"small",dataSource:f,columns:n,className:S().table,onChange:s,expandable:{onExpandedRowsChange:u,expandIcon:P,expandIconColumnIndex:0,expandedRowRender:function(){return(0,o.jsx)(o.Fragment,{})},expandedRowClassName:function(){return S().expandedRow}}})})}},60329:function(e,n,r){"use strict";r.d(n,{E:function(){return t}});var t=function(e,n){return e>n?1:e<n?-1:0}},39657:function(e,n,r){"use strict";r.d(n,{K:function(){return u}});var t=r(74047),o=r(52700),c=r(26265),a=r(57460),i=r(30191),s={"19\uff0cNovember":"19,November","Sweet Sweet Magic":"Sweet Sweet\u2665Magic","Raspberry Heart(English version)":"Raspberry\u2665Heart(English version)","\u30d4\u30a2\u30ce\u5354\u594f\u66f2\u7b2c\uff11\u756a\u201d\u880d\u706b\u201d":'\u30d4\u30a2\u30ce\u5354\u594f\u66f2\u7b2c1\u756a"\u880d\u706b"',"\u30d4\u30a2\u30ce\u5354\u594f\u66f2\u7b2c1\u756a\u201d\u880d\u706b\u201d (BlackY Remix)":'\u30d4\u30a2\u30ce\u5354\u594f\u66f2\u7b2c1\u756a"\u880d\u706b" (BlackY Remix)',"\uff35\uff2c\uff34\uff49\uff2d\u039b\uff34\uff25":"ULTiM\u2227TE","100\uff05 minimoo-G":"100% minimoo-G","Double Loving Heart":"Double\u2665\u2665Loving Heart","Blind Justice \uff5eTorn souls\uff0c Hurt Faiths \uff5e":"Blind Justice \uff5eTorn souls, Hurt Faiths\uff5e","never\u2026":"never...","\u82b1\u5439\u96ea \uff5e IIDX LIMITED \uff5e":"\u82b1\u5439\u96ea \uff5eIIDX LIMITED\uff5e",Ubertreffen:"\xdcbertreffen","Punch Love \u4eee\u9762":"Punch Love\u2661\u4eee\u9762","Raison d'etre\uff5e\u4ea4\u5dee\u3059\u308b\u5bbf\u547d\uff5e":"Raison d'\xeatre\uff5e\u4ea4\u5dee\u3059\u308b\u5bbf\u547d\uff5e","\u30ef\u30eb\u30c4\u7b2c17\u756a \u30c8\u77ed\u8abf\u201d\u5927\u72ac\u306e\u30ef\u30eb\u30c4\u201d":'\u30ef\u30eb\u30c4\u7b2c17\u756a \u30c8\u77ed\u8abf"\u5927\u72ac\u306e\u30ef\u30eb\u30c4"',"A MINSTREL \uff5e ver. short-scape \uff5e":"A MINSTREL \uff5ever. short-scape\uff5e","\u604b\u3059\u308b\u2606\u5b87\u5b99\u6226\u4e89\u3063\uff01\uff01":"\u604b\u3059\u308b\u2606\u5b87\u5b99\u6226\u4e89\u3063!!","Light and Cyber\u2026":"Light and Cyber\uff65\uff65\uff65",Praludium:"Pr\xe4ludium","\u30ad\u30e3\u30c8\u3089\u308c\u604b\u306f\u30e2\uff5e\u30e2\u30af":"\u30ad\u30e3\u30c8\u3089\u308c\u2665\u604b\u306f\u30e2\uff5e\u30e2\u30af",ATHER:"\xc6THER",Atropos:"Atr\xf6p\xf8s","Close the World feat. a\u2606ru":"Close the World feat.a\u2606ru","\u65cb\u5f8b\u306e\u30c9\u30b0\u30de\uff5eMiserables\uff5e":"\u65cb\u5f8b\u306e\u30c9\u30b0\u30de\uff5eMis\xe9rables\uff5e","\u8d85!!\u9060\u8ddd\u96e2\u3089\u3076\u30e1\uff5e\u30eb":"\u8d85!!\u9060\u8ddd\u96e2\u3089\u3076\u2661\u30e1\uff5e\u30eb","\u8d85!!\u9060\u8ddd\u96e2\u3089\u3076?\u30e1\uff5e\u30eb":"\u8d85!!\u9060\u8ddd\u96e2\u3089\u3076\u2661\u30e1\uff5e\u30eb","\u8868\u88cf\u4e00\u4f53\uff01\uff1f\u602a\u76d7\u3044\u3044\u3093\u3061\u3087\u306e\u60a9\u307f":"\u8868\u88cf\u4e00\u4f53\uff01\uff1f\u602a\u76d7\u3044\u3044\u3093\u3061\u3087\u306e\u60a9\u307f\u2665","!Viva!":"\xa1Viva!","\u706b\u5f71":"\u7131\u5f71","\u708e\u5f71":"\u7131\u5f71","Verflucht\u2020LEGGENDARIA":"Verflucht \u2020LEGGENDARIA","Amor De Verao":"Amor De Ver\xe3o","ROCK\u5973 feat. \u5927\u5c71\u611b\u672a\uff0c Ken":"ROCK\u5973 feat. \u5927\u5c71\u611b\u672a, Ken",Xlo:"Xl\xf8","\u30ae\u30e7\u30ae\u30e7\u3063\u3068\u4eba\u9b5a \u7206\u5a5a\u30d6\u30e9\u30a4\u30c0\u30eb":"\u30ae\u30e7\u30ae\u30e7\u3063\u3068\u4eba\u9b5a\u2668\u7206\u5a5a\u30d6\u30e9\u30a4\u30c0\u30eb","\u5171\u72af\u3078\u30f4\u30f3\u30ba\u30b3\u30fc\u30c9":"\u5171\u72af\u30d8\u30f4\u30f3\u30ba\u30b3\u30fc\u30c9","LOVE SHINE":"LOVE\u2661SHINE","Ubertreffen\u2020":"\xdcbertreffen\u2020","Son\uff0c not gabba now":"Son, not gabba now",BLOSSOM:"BLO\xa7OM","Macho Monky":"M\xe4ch\xf6 M\xf6nky","X-DEN":"\u03a7-DEN","CODE:0":"CODE:\xd8",Geirskogul:"Geirsk\xf6gul","POLKAMA\u0418IA":"POL\ua7b0AMA\u0418IA"},u=function(){function e(n){(0,t.Z)(this,e),(0,c.Z)(this,"notesMap",void 0),this.notesMap=this.parseNotesCsv(n)}return(0,o.Z)(e,[{key:"parseNotesCsv",value:function(e){return a.parse(e.trim().replace(/\u00A0/gm," "),{transform:function(e){return e&&"-"!=e?e:null},header:!0}).data.reduce((function(e,n){var r=(0,i.D)(n.title);return n.title=r,e[r]=n,e}),{})}},{key:"convertTitle",value:function(e){return s[e]||e}},{key:"find",value:function(e){var n=this.convertTitle(e).replace(/ /g,"").toLowerCase();return this.notesMap[n]}}]),e}()},2811:function(e,n,r){"use strict";r.d(n,{AT:function(){return o},xn:function(){return c}});var t=function(e){return"".concat("/iidx-top-rankers-viewer","/").concat(e)},o=function(e,n,r,o){var c="versions/".concat(e,"/").concat(e,"_").concat(n,"_TOPRANKER_").concat(("0"+r).substr(-2),"_").concat(o,".csv");return t(c)},c=t("notes.csv")},99409:function(e,n,r){"use strict";r.d(n,{R:function(){return o}});var t=r(60329),o=function(e){return function(n,r){return(0,t.E)(e(n),e(r))}}},47125:function(e,n,r){"use strict";r.d(n,{S2:function(){return l},Sx:function(){return f},Ps:function(){return v},OA:function(){return h}});var t=r(809),o=r.n(t),c=r(26265),a=r(71385),i=r(92447);function s(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){(0,c.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var l=function(e){return void 0===e||isNaN(e)?"-":"".concat(0===e?"\xb1":e>0?"+":"").concat(e)},f=function(e){return"undefined"===typeof e?"":e.toFixed(1)},d=function(e){var n=e.reduce((function(e,n){return e+n.score}),0);return Math.round(n/e.length*10)/10},p=function(e){return new Promise((function(n){return setTimeout(n,e)}))},v=function(){var e=(0,i.Z)(o().mark((function e(n,r){var t,c,i,s,l,f,v,h,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,a.Z)(n),c=t.shift(),i=Object.keys(c.parsed),s=Math.floor(i.length/100),l=[],f=1,v=o().mark((function e(){var n,a,v,x,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=g[h],a=Object.keys(c.parsed[n]),v=function(){var e,r=b[x],o=null===(e=c.parsed[n])||void 0===e?void 0:e[r];o.childRows=t.map((function(e,t){var c,a=null===(c=e.parsed[n])||void 0===c?void 0:c[r];return a?u(u({},a),{},{key:"".concat(o.key,"-").concat(t,"-").concat(a.key)}):null})).filter(Boolean).sort((function(e,n){return o.prefecture===n.prefecture?1:n.score-e.score}));var a=d(o.childRows),i=d(o.childRows.slice(0,3)),s=d(o.childRows.slice(0,5)),f=d(o.childRows.slice(0,10)),p=o.childRows[0],v=o.childRows.slice().sort((function(e,n){return n.score-e.score})).map((function(e){return e.score}));o.average={all:a,top3:i,top5:s,top10:f},o.aggregate={ranking:1,diff:{top:0,average:o.score-a}},o.childRows.forEach((function(e){e.aggregate={ranking:v.indexOf(e.score)+1,diff:{top:e.score-p.score,average:e.score-a}}})),l.push(o)},x=0,b=a;x<b.length;x++)v();if((f+=1)%s!==0){e.next=9;break}return r(Math.round(f/i.length*100)),e.next=9,p(0);case 9:case"end":return e.stop()}}),e)})),h=0,g=i;case 8:if(!(h<g.length)){e.next=13;break}return e.delegateYield(v(),"t0",10);case 10:h++,e.next=8;break;case 13:return e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)(o().mark((function e(n,r){var t,c,i,s,l,f,d,v,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,a.Z)(n),c=t[0],i=Object.keys(c.parsed),s=Math.floor(i.length/100),l=[],f=1,d=o().mark((function e(){var n,a,d,g,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=h[v],a=Object.keys(c.parsed[n]),d=function(){var e,r=x[g],o=null===(e=c.parsed[n])||void 0===e?void 0:e[r],a=t.map((function(e,t){var c,a=null===(c=e.parsed[n])||void 0===c?void 0:c[r];return a?u(u({},a),{},{key:"".concat(o.key,"-").concat(t,"-").concat(a.key)}):{playVersion:e.version,title:o.title,version:o.version,difficulty:o.difficulty,rate:{rate:void 0},prefecture:{name:void 0},rank:{rank:void 0,next:{rank:void 0},prev:{rank:void 0},around:{rank:void 0}},score:void 0}})),i=a.slice().sort((function(e,n){return void 0===n.score?0:n.score-e.score})).map((function(e){return e.score})),s=i[0],f=u({},a.slice().reverse().find((function(e){return e.score===s})));f.childRows=a,f.aggregate={ranking:0,diff:{top:0,average:void 0}},f.topPlayVersion=f.playVersion,f.childRows.forEach((function(e){e.topPlayVersion=f.playVersion,e.aggregate={ranking:f.playVersion.num===e.playVersion.num?0:isNaN(e.score)?void 0:i.indexOf(e.score)+1,diff:{top:e.score-f.score,average:void 0}}})),l.push(f)},g=0,x=a;g<x.length;g++)d();if((f+=1)%s!==0){e.next=9;break}return r(Math.round(f/i.length*100)),e.next=9,p(0);case 9:case"end":return e.stop()}}),e)})),v=0,h=i;case 8:if(!(v<h.length)){e.next=13;break}return e.delegateYield(d(),"t0",10);case 10:v++,e.next=8;break;case 13:return e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},32107:function(e){e.exports={prefectureSelect:"_39d96bb8",versionSelect:"e6613ee6"}},22567:function(e){e.exports={table:"_2e1dc672",expandedRow:"d8f9635f",commonCell:"_4ea7f06b",expandedCellInner:"f700ad4d"}},42108:function(e){e.exports={progressTitle:"c35abfb6"}},10295:function(e){e.exports={container:"_3e13b34d"}}}]);