(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{64623:function(e,n,r){"use strict";r.r(n),r.d(n,{SpHistoriesPage:function(){return R},default:function(){return j}});r(54277);var t=r(74048),a=r(85893),i=r(75517),u=r(71385),o=r(51436),c=r(17625),d=r(60329),s=r(39399),f=r(99409),l=r(47125),m=r(91492),v=r.n(m),x=function(e,n,r){var t=function(e){return function(n,r){return function(t,i){var u=e.current.includes(i.key),o="function"===typeof r?r(i):r,c=n(i);return{children:u?(0,a.jsx)("div",{className:v().expandedCellInner,children:(0,a.jsx)("div",{className:v().commonCell,children:c})}):c,props:o}}}}(e),i=function(e){return function(n,r){return function(r,t){return e.current.includes(t.key)?{children:(0,a.jsx)("div",{children:(0,u.Z)(t.childRows||[]).map((function(e){var r,i,u=(null===(r=e.playVersion)||void 0===r?void 0:r.num)===(null===(i=t.topPlayVersion)||void 0===i?void 0:i.num),o=n(e);return(0,a.jsx)("div",{className:u?v().top:v().histories,id:e.key,children:void 0===o?"-":o},e.key)}))}),props:{className:v().expandedIndividualCell}}:n(t)}}}(e),m=[{dataIndex:"version",title:"ver",defaultSortOrder:"descend",sorter:(0,f.R)((function(e){return e.version.num})),render:t((function(e){return e.version.shortName})),className:v().version,width:"7em"},{dataIndex:"title",title:"title",sorter:(0,f.R)((function(e){return e.title})),render:t((function(e){return e.title})),defaultSortOrder:"ascend",width:"13em",onFilter:function(e,n){return n.title.toLowerCase().includes(e.toString().toLowerCase())},filteredValue:n,className:v().title},{dataIndex:"difficulty",title:"dif",filters:[{text:"Beginner",value:"B"},{text:"Normal",value:"N"},{text:"Hyper",value:"H"},{text:"Another",value:"A"},{text:"Leggendaria",value:"L"}],onFilter:function(e,n){return n.difficulty.shortName===e},sorter:function(e,n){return(0,d.E)(e.difficulty.num,n.difficulty.num)},render:t((function(e){return e.difficulty.shortName}),(function(e){return{className:v()[e.difficulty.name]}})),width:"3em",className:v().difficulty},{dataIndex:"level",title:"Lv",filters:Array.from(new Array(12),(function(e,n){return n+1})).map((function(e){return{text:"\u2606".concat(e),value:e}})).reverse(),onFilter:function(e,n){return n.level===e},sorter:(0,f.R)((function(e){return e.level})),render:t((function(e){return e.level})),className:v().level,width:"3em"},{dataIndex:"notes",title:"notes",sorter:(0,f.R)((function(e){return e.notes})),render:t((function(e){return e.notes})),className:v().notes,width:"4em"},{dataIndex:"rank",title:"rank",filters:[{text:"AAA",value:"AAA"},{text:"MAX",value:"MAX"}],onFilter:function(e,n){return n.rank.rank===e},sorter:(0,f.R)((function(e){return e.rank.num})),render:i((function(e){return e.rank.rank})),className:v().rank,width:"5em"},{dataIndex:"score",title:"score",sorter:(0,f.R)((function(e){return e.score})),render:i((function(e){return e.score})),className:v().score,width:"3em"},{dataIndex:"rate",title:"rate",filters:Array.from(new Array(9),(function(e,n){return n})).map((function(e){var n=92+e;return{value:n,text:"".concat(n,"%")}})),onFilter:function(e,n){return n.rate.percentFloor==e},sorter:(0,f.R)((function(e){return e.rate.rate})),render:i((function(e){if(void 0===e.rate.rate)return(0,a.jsx)(a.Fragment,{children:"\xa0"});var n=e.rate.rate;return(0,a.jsx)("div",{className:v().rateBarContainer,children:n>0&&(0,a.jsxs)("div",{className:v().rateBar,style:{width:"".concat(100*n,"%")},children:[e.rate.percent,"%"]})})})),className:v().rate,width:"9em"},{title:"around",children:[{dataIndex:"aroundRank",title:"rank",sorter:(0,f.R)((function(e){return e.rank.around.num})),render:i((function(e){return e.rank.around.rank})),width:"3em",className:v().rank},{dataIndex:"aroundRankDiff",title:"diff",sorter:(0,f.R)((function(e){return e.rank.around.diff})),render:i((function(e){return(0,l.S2)(e.rank.around.diff)})),className:v().diff,width:"4em"}]},{dataIndex:"playVersion",title:(0,a.jsxs)("span",{children:["play",(0,a.jsx)("br",{}),"ver"]}),sorter:(0,f.R)((function(e){return e.playVersion.num})),render:i((function(e){return e.playVersion.shortName})),className:v().playVersion,width:"4em"},{dataIndex:"no",title:"No",render:i((function(e){return e.aggregate?0===e.aggregate.ranking?(0,a.jsx)(c.G,{icon:o.kWN}):e.aggregate.ranking:(0,a.jsx)(a.Fragment,{children:"\xa0"})})),className:v().prefecture,width:"3em"},{dataIndex:"prefecture",title:(0,a.jsxs)("div",{children:["prefe-",(0,a.jsx)("br",{}),"cture"]}),filters:s.v_.slice(1).map((function(e){return{value:e,text:e}})),onFilter:function(e,n){return n.prefecture.name==e},sorter:(0,f.R)((function(e){return e.prefecture.num})),render:i((function(e){return e.prefecture.name})),className:v().prefecture,width:"5em"},{dataIndex:"djName",title:"name",sorter:(0,f.R)((function(e){return e.djName})),render:i((function(e){return e.djName})),className:v().prefecture,width:"5em"},{dataIndex:"topDiff",title:(0,a.jsxs)("span",{children:["top",(0,a.jsx)("br",{}),"diff"]}),render:i((function(e){return e.aggregate?(0,l.S2)(e.aggregate.diff.top):(0,a.jsx)(a.Fragment,{children:"\xa0"})})),className:v().topDiff,width:"4em"},{title:"next",children:[{dataIndex:"nextRank",title:"rank",sorter:(0,f.R)((function(e){return e.rank.next.num})),render:i((function(e){return e.rank.next.rank})),width:"3em",className:v().rank},{dataIndex:"nextRankDiff",title:"diff",sorter:(0,f.R)((function(e){return e.rank.next.diff})),render:i((function(e){return(0,l.S2)(e.rank.next.diff)})),className:v().diff,width:"4em"}]},{title:"prev",children:[{dataIndex:"prevRank",title:"rank",sorter:(0,f.R)((function(e){return e.rank.prev.num})),render:i((function(e){return e.rank.prev.rank})),width:"3em",className:v().rank},{dataIndex:"prevRankDiff",title:"diff",sorter:(0,f.R)((function(e){return e.rank.prev.diff})),render:i((function(e){return(0,l.S2)(e.rank.prev.diff)})),className:v().diff,width:"4em"}]}];return Object.keys(r).forEach((function(e){var n=m.find((function(n){return n.dataIndex===e}));null!==n&&void 0!==n&&n.filteredValue||(n.filteredValue=r[e])})),m},h=r(74897),p=r(67294),k=r(2811),N=r(74462),w={difficulty:["A","L"]},g=function(e){var n=e.searchKeyword,r=(e.version,e.prefecture),t=(0,p.useRef)([]),i=(0,p.useState)(w),u=i[0],o=i[1],c=(0,p.useMemo)((function(){return x(t,[n],u)}),[t,n,u]),d=(0,p.useMemo)((function(){return r?(0,s.Ft)(r).reverse().map((function(e){return(0,k.AT)(e.num,N.mF.toShortVersion(e.name),Number(r),s.v_[Number(r)])})):[]}),[r]);return(0,a.jsx)(h.z,{columns:c,rowsCreator:l.OA,scoreCsvPaths:d,onChange:function(e,n,r,t){"filter"===t.action&&o(n)},onExpandedRowsChange:function(e){t.current=e}})},y=r(10295),_=r.n(y),R=function(){var e=(0,p.useState)(""),n=e[0],r=e[1],u=(0,p.useState)(""),o=u[0],c=u[1],d=(0,p.useState)(""),s=d[0],f=d[1];return(0,a.jsxs)(t.default,{direction:"vertical",className:_().container,children:[(0,a.jsx)(i.Z,{onKeywordChange:function(e){r(e)},onPrefectureChange:function(e){c(e)},onVersionChange:function(e){f(e)},enableAllPrefecture:!1}),(0,a.jsx)(g,{searchKeyword:n,version:s,prefecture:o})]})},j=R},73840:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sp/histories",function(){return r(64623)}])},91492:function(e){e.exports={normal:"d4191afd",hyper:"a7a401c5",another:"_2b9d8d51",leggendaria:"_4738b041",beginner:"a2612e58",title:"_6bbb723e",score:"_4cf4fb6c",rate:"e5aac5cc",rateBarContainer:"a427a9d6",rateBar:"ed5dd6d8",notes:"_98aecf82",level:"_0d6c8423",difficulty:"_382722b5",rank:"_78e206c9",expand:"_6459ca01",version:"ec388292",diff:"_8c7831cd",prefecture:"_24cec56b",playVersion:"_59b0d8e0",topDiff:"f58475b9",commonCell:"_04331084",expandedCellInner:"_699fe9f3",top:"_7f754c06",histories:"_164cc355",expandedIndividualCell:"ade6b028"}}},function(e){e.O(0,[67,334,566,961,774,888,179],(function(){return n=73840,e(e.s=n);var n}));var n=e.O();_N_E=n}]);