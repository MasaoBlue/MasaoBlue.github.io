(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{20144:function(e,n,r){"use strict";r.r(n),r.d(n,{SpHistoriesPage:function(){return F},default:function(){return S}});var t=r(85893),a=r(65558),i=r(60329),u=r(99409),o=r(47125),c=r(8656),s=r.n(c),d=function(){var e=function(e,n){return function(r,a){var i="function"===typeof n?n(a):n;return{children:(0,t.jsx)("div",{children:(0,u.Q2)(e(a))}),props:i}}};return[{dataIndex:"version",title:"ver",defaultSortOrder:"descend",sorter:(0,u.RO)((function(e){return e.version.num})),render:e((function(e){return e.version.shortName})),className:s().version,width:"7em"},{dataIndex:"title",title:"title",sorter:(0,u.RO)((function(e){return e.title})),render:e((function(e){return e.title})),defaultSortOrder:"ascend",width:"13em",className:s().title},{dataIndex:"difficulty",title:"dif",sorter:function(e,n){return(0,i.E)(e.difficulty.num,n.difficulty.num)},render:e((function(e){return e.difficulty.shortName}),(function(e){return{className:s()[e.difficulty.name]}})),width:"3em",className:s().difficulty},{dataIndex:"level",title:"Lv",sorter:(0,u.RO)((function(e){return e.level})),render:e((function(e){return e.level})),className:s().level,width:"3em"},{dataIndex:"notes",title:"notes",sorter:(0,u.RO)((function(e){return e.notes})),render:e((function(e){return e.notes})),className:s().notes,width:"4em"},{dataIndex:"djName",title:"name",sorter:(0,u.RO)((function(e){return e.djName})),render:e((function(e){return e.djName})),className:s().prefecture,width:"5em"},{dataIndex:"rank",title:"rank",sorter:(0,u.RO)((function(e){return e.rank.num})),render:e((function(e){return e.rank.rank})),className:s().rank,width:"4em"},{dataIndex:"score",title:"score",sorter:(0,u.RO)((function(e){return e.score})),render:e((function(e){return e.score})),className:s().score,width:"4em"},{dataIndex:"rate",title:"rate",sortDirections:["descend","ascend"],sorter:(0,u.RO)((function(e){return e.rate.rate})),render:e((function(e){if(void 0===e.rate.rate)return(0,t.jsx)(t.Fragment,{children:"\xa0"});var n=e.rate.rate;return(0,t.jsx)("div",{className:s().rateBarContainer,children:n>0&&(0,t.jsxs)("div",{className:s().rateBar,style:{width:"".concat(100*n,"%")},children:[e.rate.percent,"%"]})})})),className:s().rate,width:"9em"},{title:"around",className:s().groupHeader,children:[{dataIndex:"aroundRank",title:"rank",sorter:(0,u.RO)((function(e){return e.rank.around.num})),render:e((function(e){return e.rank.around.rank})),width:"3em",className:s().rank},{dataIndex:"aroundRankDiff",title:"diff",sorter:(0,u.RO)((function(e){return e.rank.around.diff})),render:e((function(e){return(0,o.S2)(e.rank.around.diff)})),className:s().diff,width:"4em"}]},{title:"next",className:s().referenceGroupHeader,children:[{dataIndex:"nextRank",title:"rank",sorter:(0,u.RO)((function(e){return e.rank.next.num})),render:e((function(e){return e.rank.next.rank})),width:"3em",className:s().referenceRank},{dataIndex:"nextRankDiff",title:"diff",sorter:(0,u.RO)((function(e){return e.rank.next.diff})),render:e((function(e){return(0,o.S2)(e.rank.next.diff)})),className:s().referenceDiff,width:"4em"}]},{title:"prev",className:s().referenceGroupHeader,children:[{dataIndex:"prevRank",title:"rank",sorter:(0,u.RO)((function(e){return e.rank.prev.num})),render:e((function(e){return e.rank.prev.rank})),width:"3em",className:s().referenceRank},{dataIndex:"prevRankDiff",title:"diff",sorter:(0,u.RO)((function(e){return e.rank.prev.diff})),render:e((function(e){return(0,o.S2)(e.rank.prev.diff)})),className:s().referenceDiff,width:"4em"}]}]},f=r(74897),l=(r(92015),r(4863)),m=function(){return(0,t.jsx)(l.default,{type:"error",message:"\u3053\u306e\u90fd\u9053\u5e9c\u770c\u3068\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30c7\u30fc\u30bf\u306f\u5b58\u5728\u3057\u307e\u305b\u3093\u3002"})},v=r(58308),h=r(67294),p=r(2811),k=[{id:"difficulty",name:"Difficulty",value:function(e){return e.difficulty.num},label:function(e){return e.difficulty.name.toLocaleUpperCase()}},{id:"version",name:"Version",value:function(e){return e.version.num},label:function(e){return e.version.name},sort:function(e){return e.version.num}},{id:"level",name:"Level",value:function(e){return e.level},label:function(e){return e.level?"\u2606".concat(e.level):"?"},sort:function(e){return e.level},width:"9em"},(0,u.TF)(),{id:"rate",name:"Score Rate",value:function(e){return e.rate.percentFloor},label:function(e){return isNaN(e.rate.percentFloor)?"?":"".concat(e.rate.percentFloor,"%")},width:"9em"},(0,u.DK)(),{id:"prefecture",name:"Prefecture",value:function(e){return e.prefecture.name},sort:function(e){return e.prefecture.num},width:"9em"},{id:"djName",name:"DJ Name",value:function(e){return e.djName},sort:function(e){return e.djName},width:"9em"}],x=function(e){var n=e.searchKeyword,r=e.version,a=e.prefecture,i=e.isFilterOpen,u=e.onFilterToggle,c=e.onFilterChange,s=(0,h.useState)({}),l=s[0],x=s[1],N=(0,h.useState)({}),w=N[0],g=N[1],y=(0,h.useState)(),R=y[0],C=y[1],j=(0,h.useMemo)((function(){return d()}),[]),O=(0,h.useMemo)((function(){return a&&r?[(0,p.AT)(r,a)]:[]}),[r,a]),b=(0,h.useCallback)((function(){u(!1)}),[u]),I=(0,h.useCallback)((function(e,n){g(e),c(n)}),[g,c]),F=(0,h.useCallback)((function(e,n){x(e),C(n)}),[]);return(0,h.useEffect)((function(){g({}),x({})}),[a,r,g,x]),(0,h.useMemo)((function(){return(0,p.vv)(a,r)}),[a,r])?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{filterTypes:k,filterChecks:w,filterCounts:l,filterSummary:R,isFilterOpen:i,onChangeFilterChecks:I,onClose:b}),(0,t.jsx)(f.z,{columns:j,rowsCreator:o.OA,scoreCsvPaths:O,filterTypes:k,filterChecks:w,onLoaded:F,searchKeyword:n})]}):(0,t.jsx)(m,{})},N=(r(15086),r(94055)),w=r(59999),g=r(51436),y=r(17625),R=function(e){var n=function(e){return function(n,r){return function(a,i){var o=e.current.includes(i.key),c="function"===typeof r?r(i):r,d=(0,u.Q2)(n(i));return{children:o?(0,t.jsx)("div",{className:s().expandedCellInner,children:(0,t.jsx)("div",{className:s().commonCell,children:d})}):d,props:c}}}}(e),r=function(e){return function(n,r){return function(r,a){return e.current.includes(a.key)?{children:(0,t.jsx)("div",{children:(0,w.Z)(a.childRows||[]).map((function(e,r){var i,u,o=(null===(i=e.playVersion)||void 0===i?void 0:i.num)===(null===(u=a.topPlayVersion)||void 0===u?void 0:u.num),c=n(e),d=null!==c&&void 0!==c?c:"-";return(0,t.jsx)("div",{className:o?s().top:s().histories,id:e.key,children:d},e.key||r)}))}),props:{className:s().expandedIndividualCell}}:(0,u.Q2)(n(a))}}}(e);return[{dataIndex:"version",title:"ver",defaultSortOrder:"descend",sorter:(0,u.RO)((function(e){return e.version.num})),render:n((function(e){return e.version.shortName})),className:s().version,width:"7em"},{dataIndex:"title",title:"title",sorter:(0,u.RO)((function(e){return e.title})),render:n((function(e){return e.title})),defaultSortOrder:"ascend",width:"13em",className:s().title},{dataIndex:"difficulty",title:"dif",sorter:function(e,n){return(0,i.E)(e.difficulty.num,n.difficulty.num)},render:n((function(e){return e.difficulty.shortName}),(function(e){return{className:s()[e.difficulty.name]}})),width:"3em",className:s().difficulty},{dataIndex:"level",title:"Lv",sorter:(0,u.RO)((function(e){return e.level})),render:n((function(e){return e.level})),className:s().level,width:"3em"},{dataIndex:"notes",title:"notes",sorter:(0,u.RO)((function(e){return e.notes})),render:n((function(e){return e.notes})),className:s().notes,width:"4em"},{dataIndex:"playVersion",title:(0,t.jsxs)("span",{children:["play",(0,t.jsx)("br",{}),"ver"]}),sorter:(0,u.RO)((function(e){return e.playVersion.num})),render:r((function(e){return e.playVersion.shortName})),className:s().playVersion,width:"4em"},{dataIndex:"no",title:"No",render:r((function(e){return e.aggregate?e.aggregate.ranking===o.FS?(0,t.jsx)(N.default,{title:"This score was excluded because the rate is above 100%.",children:"\u203b"}):0===e.aggregate.ranking?(0,t.jsx)(y.G,{icon:g.kWN}):e.aggregate.ranking:(0,t.jsx)(t.Fragment,{children:"\xa0"})})),className:s().prefecture,width:"3em"},{dataIndex:"prefecture",title:(0,t.jsxs)("div",{children:["prefe-",(0,t.jsx)("br",{}),"cture"]}),sorter:(0,u.RO)((function(e){return e.prefecture.num})),render:r((function(e){return e.prefecture.name})),className:s().prefecture,width:"5em"},{dataIndex:"djName",title:"name",sorter:(0,u.RO)((function(e){return e.djName})),render:r((function(e){return e.djName})),className:s().prefecture,width:"5em"},{dataIndex:"rank",title:"rank",sorter:(0,u.RO)((function(e){return e.rank.num})),render:r((function(e){return e.rank.rank})),className:s().rank,width:"4em"},{dataIndex:"score",title:"score",sorter:(0,u.RO)((function(e){return e.score})),render:r((function(e){return e.score})),className:s().score,width:"4em"},{dataIndex:"rate",title:"rate",sortDirections:["descend","ascend"],sorter:(0,u.RO)((function(e){return e.rate.rate})),render:r((function(e){if(void 0===e.rate.rate)return(0,t.jsx)(t.Fragment,{children:"\xa0"});var n=e.rate.rate;return(0,t.jsx)("div",{className:s().rateBarContainer,children:n>0&&(0,t.jsxs)("div",{className:s().rateBar,style:{width:"".concat(100*n,"%")},children:[e.rate.percent,"%"]})})})),className:s().rate,width:"9em"},{title:"around",className:s().groupHeader,children:[{dataIndex:"aroundRank",title:"rank",sorter:(0,u.RO)((function(e){return e.rank.around.num})),render:r((function(e){return e.rank.around.rank})),width:"3em",className:s().rank},{dataIndex:"aroundRankDiff",title:"diff",sorter:(0,u.RO)((function(e){return e.rank.around.diff})),render:r((function(e){return(0,o.S2)(e.rank.around.diff)})),className:s().diff,width:"4em"}]},{dataIndex:"topDiff",title:(0,t.jsxs)("span",{children:["top",(0,t.jsx)("br",{}),"diff"]}),render:r((function(e){return e.aggregate?0===e.aggregate.ranking?"-":(0,o.S2)(e.aggregate.diff.top):(0,t.jsx)(t.Fragment,{children:"\xa0"})})),className:s().topDiff,width:"4em"},{title:"next",className:s().referenceGroupHeader,children:[{dataIndex:"nextRank",title:"rank",sorter:(0,u.RO)((function(e){return e.rank.next.num})),render:r((function(e){return e.rank.next.rank})),width:"3em",className:s().referenceRank},{dataIndex:"nextRankDiff",title:"diff",sorter:(0,u.RO)((function(e){return e.rank.next.diff})),render:r((function(e){return(0,o.S2)(e.rank.next.diff)})),className:s().referenceDiff,width:"4em"}]},{title:"prev",className:s().referenceGroupHeader,children:[{dataIndex:"prevRank",title:"rank",sorter:(0,u.RO)((function(e){return e.rank.prev.num})),render:r((function(e){return e.rank.prev.rank})),width:"3em",className:s().referenceRank},{dataIndex:"prevRankDiff",title:"diff",sorter:(0,u.RO)((function(e){return e.rank.prev.diff})),render:r((function(e){return(0,o.S2)(e.rank.prev.diff)})),className:s().referenceDiff,width:"4em"}]}]},C=r(39399),j=[{id:"difficulty",name:"Difficulty",value:function(e){return e.difficulty.num},label:function(e){return e.difficulty.name.toLocaleUpperCase()}},{id:"version",name:"Version",value:function(e){return e.version.num},label:function(e){return e.version.name},sort:function(e){return e.version.num}},{id:"level",name:"Level",value:function(e){return e.level},label:function(e){return e.level?"\u2606".concat(e.level):"?"},sort:function(e){return e.level},width:"9em"},(0,u.TF)(),{id:"rate",name:"Score Rate",value:function(e){return e.rate.percentFloor},label:function(e){return isNaN(e.rate.percentFloor)?"?":"".concat(e.rate.percentFloor,"%")},width:"9em"},(0,u.DK)(),{id:"topVersion",name:"Top Version",value:function(e){return e.topPlayVersion.name},label:function(e){return e.topPlayVersion.name},sort:function(e){return e.topPlayVersion.num}},{id:"prefecture",name:"Prefecture",value:function(e){return e.prefecture.name},sort:function(e){return e.prefecture.num},width:"9em"},{id:"djName",name:"DJ Name",value:function(e){return e.djName},sort:function(e){return e.djName},width:"9em"}],O=function(e){var n=e.searchKeyword,r=e.prefecture,a=e.isFilterOpen,i=e.onFilterToggle,u=e.onFilterChange,c=e.version,s=(0,h.useRef)([]),d=(0,h.useState)({}),l=d[0],k=d[1],x=(0,h.useState)({}),N=x[0],w=x[1],g=(0,h.useState)(),y=g[0],O=g[1],b=(0,h.useMemo)((function(){return R(s)}),[s]),I=(0,h.useMemo)((function(){return r&&c?(0,C.Ft)(r,c).reverse().map((function(e){return(0,p.AT)(e.num,r)})):[]}),[r,c]),F=(0,h.useCallback)((function(e){s.current=e}),[]),S=(0,h.useCallback)((function(){i(!1)}),[i]),_=(0,h.useCallback)((function(e,n){w(e),u(n)}),[u,w]),D=(0,h.useCallback)((function(e,n){k(e),O(n)}),[]);return(0,h.useEffect)((function(){w({}),k({})}),[r,c,w,k]),(0,h.useMemo)((function(){return(0,p.vv)(r,c)}),[r,c])?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Z,{filterTypes:j,filterChecks:N,filterCounts:l,filterSummary:y,isFilterOpen:a,onChangeFilterChecks:_,onClose:S}),(0,t.jsx)(f.z,{columns:b,rowsCreator:o.OA,scoreCsvPaths:I,onExpandedRowsChange:F,filterTypes:j,filterChecks:N,onLoaded:D,searchKeyword:n})]}):(0,t.jsx)(m,{})},b=r(75517),I=r(74462),F=function(){var e=(0,h.useState)(""),n=e[0],r=e[1],i=(0,h.useState)(""),u=i[0],o=i[1],c=(0,h.useState)(""),s=c[0],d=c[1],f=(0,h.useState)(!1),l=f[0],m=f[1],v=(0,h.useState)([]),p=v[0],k=v[1],N=(0,h.useCallback)((function(e){r(e)}),[r]),w=(0,h.useCallback)((function(e){d(e)}),[d]),g=(0,h.useCallback)((function(e){o(e)}),[o]),y=(0,h.useCallback)((function(e){m(e)}),[m]),R=(0,h.useCallback)((function(e){k(e)}),[k]);return(0,t.jsx)(a.Z,{condition:(0,t.jsx)(b.Z,{onKeywordChange:N,onPrefectureChange:g,onVersionChange:w,onFilterToggle:y,isFilterOpen:l,enableAllPrefecture:!1,filteredNames:p}),table:s===I.PW||s===I.zv?(0,t.jsx)(O,{isFilterOpen:l,searchKeyword:n,prefecture:u,version:s,onFilterToggle:y,onFilterChange:R}):(0,t.jsx)(x,{isFilterOpen:l,searchKeyword:n,version:s,prefecture:u,onFilterToggle:y,onFilterChange:R})})};F.layout={contentHeaderSticky:!0};var S=F},73840:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sp/histories",function(){return r(20144)}])},8656:function(e){e.exports={normal:"ed959b5e",hyper:"e35c8620",another:"_8a50ec9e",leggendaria:"f13317de",beginner:"c36dd898",title:"_74858e92",score:"a5b07af1",rate:"_3128cb49",rateBarContainer:"_6c5235c8",rateBar:"dbde30f5",notes:"_76bb4ecc",level:"_78400124",difficulty:"_477ad1e3",rank:"aade9ffc",expand:"ccb85f65",version:"_623138f2",diff:"_057c4a8b",prefecture:"f2e1c7d7",playVersion:"_3626aa38",topDiff:"_74e1d1fb",commonCell:"_4fa1ca08",expandedCellInner:"_6f776562",top:"_9005ef0a",histories:"ec446d09",expandedIndividualCell:"_56d1900b",groupHeader:"_324a1592",reference:"_412fabcd",referenceGroupHeader:"a8ff9d27",referenceRank:"af3ca4a7",referenceDiff:"e9161e9e"}}},function(e){e.O(0,[67,657,39,810,774,888,179],(function(){return n=73840,e(e.s=n);var n}));var n=e.O();_N_E=n}]);