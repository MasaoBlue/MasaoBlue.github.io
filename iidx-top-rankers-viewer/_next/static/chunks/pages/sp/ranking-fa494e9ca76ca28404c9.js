(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{75517:function(e,n,r){"use strict";r(30467);var t=r(55673),a=(r(54277),r(74048)),i=r(85893),o=(r(35797),r(64749)),c=(r(58136),r(5789)),u=(r(89858),r(51024)),s=r(76570),d=r(67294),l=r(51148),f=r(39399),x=r(74462),m=r(32107),p=r.n(m),v="all";n.Z=function(e){var n=e.onKeywordChange,r=e.onPrefectureChange,m=e.onVersionChange,h=e.enableRekidai,g=void 0===h||h,w=e.enableAllPrefecture,k=void 0===w||w,j=(0,d.useState)("0"),N=j[0],R=j[1],b=(0,d.useState)(g?v:"28"),C=b[0],_=b[1],I=(0,d.useState)(""),y=I[0],S=I[1];(0,l.Z)(n,200,[y]);return(0,d.useEffect)((function(){m(C)}),[m,C]),(0,d.useEffect)((function(){null===r||void 0===r||r(N)}),[r,N]),(0,i.jsxs)(t.Z,{justify:"space-between",children:[(0,i.jsx)(c.Z,{children:(0,i.jsx)(u.Z,{placeholder:"search by title",prefix:(0,i.jsx)(s.Z,{}),onInput:function(e){S(e.target.value)},value:y})}),(0,i.jsx)(c.Z,{children:(0,i.jsxs)(a.default,{children:[r&&(0,i.jsxs)(o.default,{value:N,className:p().prefectureSelect,onChange:function(e){R(e),null===r||void 0===r||r(e)},children:[k&&(0,i.jsx)(o.default.Option,{value:v,children:"\u5168\u90fd\u9053\u5e9c\u770c"},v),f.v_.map((function(e,n){return(0,i.jsx)(o.default.Option,{value:"".concat(n),disabled:n>55,children:"".concat(n,".").concat(e).concat(n>55?"(\u6e96\u5099\u4e2d)":"")},e)}))]}),(0,i.jsx)(o.default,{value:C,className:p().versionSelect,onChange:function(e){_(e)},children:(0,i.jsxs)(o.default.OptGroup,{label:"\u516c\u5f0f",children:[g&&(0,i.jsx)(o.default.Option,{value:v,children:"\u6b74\u4ee3(SPADA-BISTROVER)"},v),!r&&[x._L[x._L.length-1]].reverse().map((function(e){var n=e.name,r=e.num;return(0,i.jsx)(o.default.Option,{value:"".concat(r),children:"".concat(r,".").concat(n)},n)}))]})})]})})]})}},74897:function(e,n,r){"use strict";r.d(n,{z:function(){return A}});r(15144);var t=r(2307),a=r(85893),i=r(809),o=r.n(i),c=r(92447),u=(r(92015),r(4863)),s=(r(23461),r(53740)),d=r(32869),l=r(7728),f=(r(30467),r(55673)),x=(r(58136),r(5789)),m=(r(92871),r(74806)),p=r(67294),v=r(42108),h=r.n(v),g=function(e){return function(n){return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:n<100?"".concat(n,"%"):"Done"}),(0,a.jsx)(s.Z.Text,{className:h().progressTitle,children:e})]})}},w=function(e){var n=e.downloadProgress,r=e.calculationProgress;return(0,a.jsxs)(f.Z,{gutter:[32,0],justify:"center",children:[(0,a.jsx)(x.Z,{children:(0,a.jsx)(m.Z,{type:"circle",percent:n,format:g("download")})}),(0,a.jsx)(x.Z,{children:(0,a.jsx)(m.Z,{type:"circle",percent:r,format:g("calculation")})})]})},k=r(35723),j=r(97570),N=r.n(j),R=r(76389),b=r(2811),C=r(46237),_=r(22567),I=r.n(_),y=(0,a.jsx)(u.default,{message:"\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u3082\u3057\u304f\u306f\u8a08\u7b97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002",description:(0,a.jsx)(s.Z,{children:(0,a.jsxs)(s.Z.Text,{children:["\u6642\u9593\u304c\u7d4c\u3063\u3066\u3082\u89e3\u6c7a\u3057\u306a\u3044\u5834\u5408\u306f\u958b\u767a\u8005\u307e\u3067\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u3002",(0,a.jsx)("br",{}),"If the problem persists over time, please contact the developer."]})}),type:"error",showIcon:!0}),S=function(e){var n=e.expanded,r=e.onExpand,t=e.record;return n?(0,a.jsx)("div",{className:I().expandedCellInner,children:(0,a.jsx)(d.Z,{onClick:function(e){return r(t,e)},className:I().commonCell})}):(0,a.jsx)(l.Z,{onClick:function(e){return r(t,e)}})},A=function(e){var n=e.columns,r=e.rowsCreator,i=e.scoreCsvPaths,u=e.onChange,s=e.onExpandedRowsChange,d=(0,p.useState)([]),l=d[0],f=d[1],x=(0,p.useState)(0),m=x[0],v=x[1],h=(0,p.useState)(0),g=h[0],j=h[1],_=(0,p.useState)(!1),A=_[0],Z=_[1],E=(0,p.useState)(!1),P=E[0],F=E[1],O=(0,k.ZP)(b.xn),T=O.data,D=O.error;(0,p.useEffect)((function(){f([]),Z(!1),v(0),j(0),F(!1)}),[i]);var L=(0,k.ZP)(T?i:null,(function(){for(var e=new R.K(T),n=0,r=function(r){return fetch(r).then((function(e){return e.text()})).then((function(r){return n+=1,v(Math.round(n/i.length*100)),(0,C.MN)(r,e)})).catch((function(e){throw console.error(e),e}))},t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return N()(7,a,r)}),{}),B=L.data,V=L.error;return(0,p.useEffect)((function(){!B||m<100||A||(Z(!0),function(){var e=(0,c.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(B,j);case 3:n=e.sent,j(100),f(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),F(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()())}),[m,B,A,r]),D||V||P?y:(0,a.jsx)(a.Fragment,{children:0===l.length?(0,a.jsx)(w,{downloadProgress:m,calculationProgress:g}):(0,a.jsx)(t.Z,{sticky:!0,pagination:{defaultPageSize:100,position:["topRight","bottomRight"]},showSorterTooltip:!1,size:"small",dataSource:l,columns:n,className:I().table,onChange:u,expandable:{onExpandedRowsChange:s,expandIcon:S,expandIconColumnIndex:0,expandedRowRender:function(){return(0,a.jsx)(a.Fragment,{})},expandedRowClassName:function(){return I().expandedRow}}})})}},85828:function(e,n,r){"use strict";r.r(n),r.d(n,{SpRankingPage:function(){return b},default:function(){return C}});r(54277);var t=r(74048),a=r(85893),i=r(71385),o=r(51436),c=r(17625),u=r(60329),s=r(39399),d=r(99409),l=r(47125),f=r(80615),x=r.n(f),m=function(e,n,r){var t=function(e){return function(n,r){return function(t,i){var o=e.current.includes(i.key),c="function"===typeof r?r(i):r,u=n(i);return{children:o?(0,a.jsx)("div",{className:x().expandedCellInner,children:(0,a.jsx)("div",{className:x().commonCell,children:u})}):u,props:c}}}}(e),f=function(e){return function(n,r){return function(r,t){return e.current.includes(t.key)?{children:(0,a.jsx)("div",{children:(0,i.Z)(t.childRows||[]).map((function(e,r){var t=0===r,i=n(e);return(0,a.jsx)("div",{className:t?x().top:x().prefectures,id:e.key,children:void 0===i?"-":i},e.key)}))}),props:{className:x().expandedIndividualCell}}:n(t)}}}(e),m=[{dataIndex:"version",title:"ver",defaultSortOrder:"descend",sorter:(0,d.R)((function(e){return e.version.num})),render:t((function(e){return e.version.shortName})),className:x().version,width:"7em"},{dataIndex:"title",title:"title",sorter:(0,d.R)((function(e){return e.title})),render:t((function(e){return e.title})),defaultSortOrder:"ascend",width:"13em",onFilter:function(e,n){return n.title.toLowerCase().includes(e.toString().toLowerCase())},filteredValue:n,className:x().title},{dataIndex:"difficulty",title:"dif",filters:[{text:"Beginner",value:"B"},{text:"Normal",value:"N"},{text:"Hyper",value:"H"},{text:"Another",value:"A"},{text:"Leggendaria",value:"L"}],onFilter:function(e,n){return n.difficulty.shortName===e},sorter:function(e,n){return(0,u.E)(e.difficulty.num,n.difficulty.num)},render:t((function(e){return e.difficulty.shortName}),(function(e){return{className:x()[e.difficulty.name]}})),width:"3em",className:x().difficulty},{dataIndex:"level",title:"Lv",filters:Array.from(new Array(12),(function(e,n){return n+1})).map((function(e){return{text:"\u2606".concat(e),value:e}})).reverse(),onFilter:function(e,n){return n.level===e},sorter:(0,d.R)((function(e){return e.level})),render:t((function(e){return e.level})),className:x().level,width:"3em"},{dataIndex:"notes",title:"notes",sorter:(0,d.R)((function(e){return e.notes})),render:t((function(e){return e.notes})),className:x().notes,width:"4em"},{dataIndex:"rank",title:"rank",filters:[{text:"AAA",value:"AAA"},{text:"MAX",value:"MAX"}],onFilter:function(e,n){return n.rank.rank===e},sorter:(0,d.R)((function(e){return e.rank.num})),render:f((function(e){return e.rank.rank})),className:x().rank,width:"4em"},{dataIndex:"score",title:"score",sorter:(0,d.R)((function(e){return e.score})),render:f((function(e){return e.score})),className:x().score,width:"3em"},{dataIndex:"rate",title:"rate",filters:Array.from(new Array(9),(function(e,n){return n})).map((function(e){var n=92+e;return{value:n,text:"".concat(n,"%")}})),onFilter:function(e,n){return n.rate.percentFloor==e},sorter:(0,d.R)((function(e){return e.rate.rate})),render:f((function(e){if(void 0===e.rate.rate)return(0,a.jsx)(a.Fragment,{children:"\xa0"});var n=e.rate.rate;return(0,a.jsx)("div",{className:x().rateBarContainer,children:n>0&&(0,a.jsxs)("div",{className:x().rateBar,style:{width:"".concat(100*n,"%")},children:[e.rate.percent,"%"]})})})),className:x().rate,width:"9em"},{title:"around",children:[{dataIndex:"aroundRank",title:"rank",sorter:(0,d.R)((function(e){return e.rank.around.num})),render:f((function(e){return e.rank.around.rank})),width:"3em",className:x().rank},{dataIndex:"aroundRankDiff",title:"diff",sorter:(0,d.R)((function(e){return e.rank.around.diff})),render:f((function(e){return(0,l.S2)(e.rank.around.diff)})),className:x().diff,width:"4em"}]},{dataIndex:"no",title:"No",render:f((function(e){return e.aggregate?1===e.aggregate.ranking?(0,a.jsx)(c.G,{icon:o.nmd}):e.aggregate.ranking:(0,a.jsx)(a.Fragment,{children:"\xa0"})})),className:x().prefecture,width:"3em"},{dataIndex:"prefecture",title:(0,a.jsxs)("div",{children:["prefe-",(0,a.jsx)("br",{}),"cture"]}),filters:s.v_.slice(1).map((function(e){return{value:e,text:e}})),onFilter:function(e,n){return n.prefecture.name==e},sorter:(0,d.R)((function(e){return e.prefecture.num})),render:f((function(e){return e.prefecture.name})),className:x().prefecture,width:"5em"},{dataIndex:"djName",title:"name",sorter:(0,d.R)((function(e){return e.djName})),render:f((function(e){return e.djName})),className:x().prefecture,width:"5em"},{dataIndex:"topDiff",title:(0,a.jsxs)("span",{children:["top",(0,a.jsx)("br",{}),"diff"]}),render:f((function(e){return(0,l.S2)(e.aggregate.diff.top)})),className:x().topDiff,width:"4em"},{title:"average",children:[{dataIndex:"allAverage",title:"all",sorter:(0,d.R)((function(e){return e.average.all})),render:t((function(e){return(0,l.Sx)(e.average.all)})),className:x().average,width:"4em"},{dataIndex:"top3Average",title:"top3",sorter:(0,d.R)((function(e){return e.average.top3})),render:t((function(e){return(0,l.Sx)(e.average.top3)})),className:x().average,width:"4em"},{dataIndex:"top5Average",title:"top5",sorter:(0,d.R)((function(e){return e.average.top5})),render:t((function(e){return(0,l.Sx)(e.average.top5)})),className:x().average,width:"4em"},{dataIndex:"top10Average",title:"top10",sorter:(0,d.R)((function(e){return e.average.top10})),render:t((function(e){return(0,l.Sx)(e.average.top10)})),className:x().average,width:"4em"}]},{title:"next",children:[{dataIndex:"nextRank",title:"rank",sorter:(0,d.R)((function(e){return e.rank.next.num})),render:f((function(e){return e.rank.next.rank})),width:"3em",className:x().rank},{dataIndex:"nextRankDiff",title:"diff",sorter:(0,d.R)((function(e){return e.rank.next.diff})),render:f((function(e){return(0,l.S2)(e.rank.next.diff)})),className:x().diff,width:"4em"}]},{title:"prev",children:[{dataIndex:"prevRank",title:"rank",sorter:(0,d.R)((function(e){return e.rank.prev.num})),render:f((function(e){return e.rank.prev.rank})),width:"3em",className:x().rank},{dataIndex:"prevRankDiff",title:"diff",sorter:(0,d.R)((function(e){return e.rank.prev.diff})),render:f((function(e){return(0,l.S2)(e.rank.prev.diff)})),className:x().diff,width:"4em"}]}];return Object.keys(r).forEach((function(e){var n=m.find((function(n){return n.dataIndex===e}));null!==n&&void 0!==n&&n.filteredValue||(n.filteredValue=r[e])})),m},p=r(74897),v=r(67294),h=r(2811),g=r(74462),w={difficulty:["A","L"]},k=function(e){var n=e.searchKeyword,r=e.version,t=(0,v.useRef)([]),i=(0,v.useState)(w),o=i[0],c=i[1],u=(0,v.useMemo)((function(){return m(t,[n],o)}),[t,n,o]),d=(0,v.useMemo)((function(){return r?s.v_.map((function(e,n){return(0,h.AT)(Number(r),g.mF.getVersionFromNum(r).shortName,n,e)})):[]}),[r]);return(0,a.jsx)(p.z,{columns:u,rowsCreator:l.Ps,scoreCsvPaths:d,onChange:function(e,n,r,t){"filter"===t.action&&c(n)},onExpandedRowsChange:function(e){t.current=e}})},j=r(75517),N=r(10295),R=r.n(N),b=function(){var e=(0,v.useState)(""),n=e[0],r=e[1],i=(0,v.useState)(""),o=i[0],c=i[1];return(0,a.jsxs)(t.default,{direction:"vertical",className:R().container,children:[(0,a.jsx)(j.Z,{onKeywordChange:function(e){r(e)},onVersionChange:function(e){c(e)},enableRekidai:!1}),(0,a.jsx)(k,{searchKeyword:n,version:o})]})},C=b},60329:function(e,n,r){"use strict";r.d(n,{E:function(){return t}});var t=function(e,n){return e>n?1:e<n?-1:0}},99409:function(e,n,r){"use strict";r.d(n,{R:function(){return a}});var t=r(60329),a=function(e){return function(n,r){return(0,t.E)(e(n),e(r))}}},67206:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sp/ranking",function(){return r(85828)}])},32107:function(e){e.exports={prefectureSelect:"_39d96bb8",versionSelect:"e6613ee6"}},22567:function(e){e.exports={table:"_2e1dc672",expandedRow:"d8f9635f",commonCell:"_4ea7f06b",expandedCellInner:"f700ad4d"}},42108:function(e){e.exports={progressTitle:"c35abfb6"}},80615:function(e){e.exports={normal:"_7c2d49c7",hyper:"c806053f",another:"_428afac4",leggendaria:"_2c7a2d50",beginner:"b69d364f",title:"c7bf5bb5",score:"_41016082",average:"_4eca5694",rate:"_83a99821",rateBarContainer:"_48c993fe",rateBar:"_8c1c687d",notes:"_87922ec1",level:"c59432f1",difficulty:"ec9d4b1b",rank:"_1caaf0d8",expand:"c11260c3",version:"_922b92f1",diff:"_753a1e50",prefecture:"_0d263e00",topDiff:"f3ffe069",commonCell:"c1b56909",expandedCellInner:"_87a7458f",expandedIndividualCell:"_1bc0547e",top:"_32a5b839",prefectures:"b2bc749c"}},10295:function(e){e.exports={container:"_3e13b34d"}}},function(e){e.O(0,[67,680,566,686,774,888,179],(function(){return n=67206,e(e.s=n);var n}));var n=e.O();_N_E=n}]);