(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[825],{52825:function(e,r,t){"use strict";t.d(r,{Z:function(){return C}});var n=t(85893),a=t(7085),c=(t(15144),t(2307)),i=(t(30467),t(55673)),s=(t(58136),t(5789)),o=(t(23461),t(53740)),l=(t(54277),t(74048)),d=(t(56120),t(74253)),u=t(51436),f=t(17625),p=(t(1025),t(65400)),h=(t(65245),t(91075)),v=(t(77785),t(59361)),m=t(67294),x=t(46191),b=t(47125),y=t(83985),j=t.n(y),w=function(e){return function(r,t){return"children"in t?{children:"",props:{colSpan:0}}:e(r,t)}},g=function(e){return"children"in e},k=function(e){var r=e.row,t=e.playVideo,a=(0,m.useState)(),c=a[0],o=a[1],d="#video-".concat(r.date.format("YYYYMMDD"));return(0,n.jsx)(l.default,{direction:"vertical",style:{width:"100%"},children:(0,n.jsxs)(i.Z,{justify:"space-between",align:"middle",wrap:!1,style:{width:"100%"},gutter:[8,8],children:[(0,n.jsx)(s.Z,{children:(0,n.jsxs)(l.default,{direction:"vertical",children:[(0,n.jsxs)(l.default,{children:["Selector:",(0,n.jsx)("span",{className:j().teamLabel,style:{borderBottom:"3px solid ".concat(x.lA[r.selectedTeam])},children:r.selectedTeam}),r.strategy&&(0,n.jsxs)(l.default,{size:[4,0],children:[(0,n.jsx)(f.G,{icon:u.QmK}),"Strategy"]})]}),(0,n.jsxs)(l.default,{className:j().titleAndNotes,children:[(0,n.jsxs)(v.Z,{children:["\u2606",r.level]}),(0,n.jsxs)("span",{className:j().titleAndDifficulty,children:[r.title,"(",r.difficulty.shortName,")"]}),(0,n.jsxs)("span",{children:[r.notes," notes"]})]})]})}),(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(h.Z,{style:{display:"none"},children:(0,n.jsx)(h.Z.Link,{href:d,title:"",ref:function(e){return o(e)}})}),(0,n.jsx)(p.default,{type:"ghost",onClick:function(){var e;null===c||void 0===c||null===(e=c.context)||void 0===e||e.scrollTo(d),t(r.start)},children:(0,n.jsx)(f.G,{icon:u.zc})})]})]})})},N=t(27484),_=t.n(N),S=t(10285),O=t.n(S),R=t(41664),Z=t(22004),D=t(88162),I=t.n(D);_().extend(O());var M=function(e){return"children"in e},P=function(e){var r=e.parsedCsv,t=e.history,a=(0,m.useState)(),p=a[0],h=a[1],v=(0,m.useCallback)((function(e){var r=_()("00:".concat(e).substr(-8),"H:m:s").diff(_()("00:00:00","H:m:s"),"seconds");p.seekTo(r),p.getInternalPlayer().playVideo()}),[p]),y=(0,m.useMemo)((function(){return function(e){var r=[{dataIndex:"order",render:function(e,r){return g(r)?{children:(0,n.jsxs)("div",{className:j().orderInner,children:[r.order.name," - ",r.theme]}),props:{className:j().order,rowSpan:0===r.musicNum?6:0}}:{props:{rowSpan:0}}},width:"2.5em"},{dataIndex:"result",render:w((function(e,r){return"win"===r.result||"draw"===r.result?{children:(0,n.jsx)(f.G,{icon:u._su}),props:{style:{backgroundColor:r.team.color}}}:""})),className:j().result,width:"2em",colSpan:0},{dataIndex:"player",title:"player",render:function(t,a){return g(a)?{children:(0,n.jsx)(k,{row:a,playVideo:e}),props:{className:j().parent,colSpan:r.length-1}}:{children:t,props:{className:j().playerName}}},width:"4em",colSpan:2},{dataIndex:"score",title:"score",render:w((function(e,r){return{children:e,props:{className:r.best>0&&r.score>=r.best&&j().personalBest}}})),className:j().score,width:"4em"},{dataIndex:"rivalDiff",title:"diff",render:w((function(e,r){return"win"===r.result?(0,b.S2)(r.rivalDiff):""})),className:j().rivalDiff,width:"2em"},{dataIndex:"rateMd",title:"rate",className:j().rate,render:w((function(e,r){var t=void 0===r.rate.rate?0:r.rate.rate;return(0,n.jsx)("div",{className:j().rateBarContainer,children:t>0&&(0,n.jsxs)("div",{className:j().rateBar,style:{width:"".concat(100*t,"%"),background:r.team.color},children:[r.rate.percent,"%"]})})})),width:"9em",responsive:["sm"]},{dataIndex:"rateSm",title:"rate",className:j().rateXs,render:w((function(e,r){return void 0===r.rate.rate?"-":"".concat(r.rate.percent,"%")})),width:"4em",responsive:["xs"]},{dataIndex:"rank",title:"rank",render:w((function(e,r){return r.rank.rank})),className:j().rank,width:"3em"},{dataIndex:"rankDiff",title:"\xb1",render:w((function(e,r){return"".concat(r.rank.around.rank," ").concat((0,b.S2)(r.rank.around.diff))})),className:j().rankDiff,width:"4em"},{dataIndex:"playSideMd",title:"side",className:j().playSide,render:w((function(e,r){return"".concat(r.playSide,"P")})),width:"2em",colSpan:0,responsive:["sm"]},{dataIndex:"optionMd",title:"option",className:j().option,render:w((function(e,r){return(0,n.jsxs)("span",{children:[r.legacy&&(0,n.jsx)("div",{children:"LEGACY"}),(0,n.jsx)("div",{children:x.X3[r.option]})]})})),width:"2em",colSpan:2,responsive:["sm"]},{dataIndex:"bestMd",title:"best",className:j().best,render:w((function(e,r){return void 0===r.best?"":0===r.best?"-":r.best})),width:"2em",colSpan:2,responsive:["sm"]}];return r}(v)}),[v]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)(d.Z,{}),(0,n.jsxs)(o.Z.Title,{level:3,id:"video-".concat(t.date.format("YYYYMMDD")),children:[t.date.format("M/D")," ",t.title,(0,n.jsx)(R.default,{href:t.link,children:(0,n.jsx)("a",{className:I().officialLink,target:"_blank",children:(0,n.jsxs)(l.default,{size:[4,0],children:[(0,n.jsx)(f.G,{icon:u.Xjp}),"\u516c\u5f0fHP"]})})})]}),(0,n.jsxs)(l.default,{direction:"vertical",className:I().container,children:[(0,n.jsx)("div",{className:I().videoContainer,children:(0,n.jsx)(Z.Z,{url:"https://www.youtube.com/watch?v=".concat(t.movie.id),className:I().video,ref:function(e){return h(e)},controls:!0,width:"100%",height:"100%"})}),(0,n.jsx)(l.default,{size:"large",wrap:!0,className:I().cards,align:"start",children:t.cards.map((function(e,t){var a=e.cardType?"".concat(e.title,"(").concat(e.cardType,": ").concat(x.Wr[e.cardType],")"):e.title;return(0,n.jsx)("div",{children:(0,n.jsxs)(l.default,{direction:"vertical",children:[(0,n.jsx)(o.Z.Title,{level:4,children:a}),(0,n.jsx)(i.Z,{justify:"center",children:(0,n.jsx)(s.Z,{children:(0,n.jsxs)(l.default,{children:[(0,n.jsx)("span",{className:I().teamLabel,style:{borderBottom:"3px solid ".concat(x.lA[e.vs[0]])},children:e.vs[0]}),"vs",(0,n.jsx)("span",{className:I().teamLabel,style:{borderBottom:"3px solid ".concat(x.lA[e.vs[1]])},children:e.vs[1]})]})})}),(0,n.jsx)(c.Z,{className:I().table,dataSource:r[t],columns:y,pagination:!1,size:"small",rowClassName:function(e){return["win"===e.result?I().resultWinRow:"lose"===e.result?I().resultLoseRow:"",e.orderLast?I().orderLastRow:"",M(e)?I().parentRow:I().childRow].join(" ")},expandable:{expandIconColumnIndex:-1,expandedRowKeys:r[t].map((function(e){return e.key}))}})]})},e.vs.toString())}))})]})]},t.date.toString())})},C=function(e){var r=e.histories,t=(0,m.useState)(),c=t[0],i=t[1];return(0,m.useEffect)((function(){var e=(0,x.EQ)(r);i(e)}),[r]),c?(0,n.jsx)(n.Fragment,{children:r.map((function(e,r){return(0,n.jsx)("div",{children:(0,n.jsx)(P,{history:e,parsedCsv:c[r]})},e.date.toString())}))}):(0,n.jsx)(a.Z,{})}},47125:function(e,r,t){"use strict";t.d(r,{S2:function(){return d},Sx:function(){return u},Ps:function(){return h},FS:function(){return m},OA:function(){return x}});var n=t(809),a=t.n(n),c=t(26265),i=t(59999),s=t(92447);function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){(0,c.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var d=function(e){return void 0===e||isNaN(e)?"-":"".concat(0===e?"\xb1":e>0?"+":"").concat(e)},u=function(e){return"undefined"===typeof e?"":e.toFixed(1)},f=function(e){var r=e.reduce((function(e,r){return e+r.score}),0);return Math.round(r/e.length*10)/10},p=function(e){return new Promise((function(r){return setTimeout(r,e)}))},h=function(){var e=(0,s.Z)(a().mark((function e(r,t,n){var c,s,o,d,u,h,v,m,x,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=(0,i.Z)(r),s=c.shift(),o=Object.keys(s.parsed),d=Math.floor(o.length/100),u=[],h=1,v=a().mark((function e(){var r,i,v,b,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=x[m],i=Object.keys(s.parsed[r]),v=function(){var e,t=y[b],n=null===(e=s.parsed[r])||void 0===e?void 0:e[t];n.childRows=c.map((function(e,a){var c,i=null===(c=e.parsed[r])||void 0===c?void 0:c[t];return i?l(l({},i),{},{key:"".concat(n.key,"-").concat(a,"-").concat(i.key)}):null})).filter(Boolean).sort((function(e,r){return n.prefecture===r.prefecture?1:r.score-e.score}));var a=f(n.childRows),i=f(n.childRows.slice(0,3)),o=f(n.childRows.slice(0,5)),d=f(n.childRows.slice(0,10)),p=n.childRows[0],h=n.childRows.slice().sort((function(e,r){return r.score-e.score})).map((function(e){return e.score}));n.average={all:a,top3:i,top5:o,top10:d},n.aggregate={ranking:0,diff:{top:0,average:n.score-a}},n.childRows.forEach((function(e){e.aggregate={ranking:p.prefecture.num===e.prefecture.num?0:isNaN(e.score)?void 0:h.indexOf(e.score)+1,diff:{top:e.score-p.score,average:e.score-a}}})),u.push(n)},b=0,y=i;b<y.length;b++)v();if(!n.canceled){e.next=6;break}return e.abrupt("return",{v:null});case 6:if((h+=1)%d!==0){e.next=11;break}return t(Math.round(h/o.length*100)),e.next=11,p(0);case 11:case"end":return e.stop()}}),e)})),m=0,x=o;case 8:if(!(m<x.length)){e.next=16;break}return e.delegateYield(v(),"t0",10);case 10:if("object"!==typeof(b=e.t0)){e.next=13;break}return e.abrupt("return",b.v);case 13:m++,e.next=8;break;case 16:return e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),v=function(e){return e.rate.rate>1},m=999999,x=function(){var e=(0,s.Z)(a().mark((function e(r,t,n){var c,s,o,d,u,f,h,x,b,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=(0,i.Z)(r),s=c[0],o=Object.keys(s.parsed),d=Math.floor(o.length/100),u=[],f=1,h=a().mark((function e(){var r,i,h,y,j;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=b[x],i=Object.keys(s.parsed[r]),h=function(){var e,t=j[y],n=null===(e=s.parsed[r])||void 0===e?void 0:e[t],a=c.map((function(e,a){var c,i=null===(c=e.parsed[r])||void 0===c?void 0:c[t];return i?l(l({},i),{},{key:"".concat(n.key,"-").concat(a,"-").concat(i.key)}):{playVersion:e.version,title:n.title,version:n.version,difficulty:n.difficulty,rate:{rate:void 0},prefecture:{name:void 0},rank:{rank:void 0,next:{rank:void 0},prev:{rank:void 0},around:{rank:void 0}},score:void 0}})),i=a.slice().filter((function(e){return!v(e)})).sort((function(e,r){return void 0===r.score?0:r.score-e.score})).map((function(e){return e.score})),o=i[0],d=l({},a.slice().reverse().find((function(e){return e.score===o})));d.childRows=a,d.aggregate={ranking:0,diff:{top:0,average:void 0}},d.topPlayVersion=d.playVersion,d.childRows.forEach((function(e){var r=v(e)?m:d.playVersion.num===e.playVersion.num?0:isNaN(e.score)?void 0:i.indexOf(e.score)+1;e.topPlayVersion=d.playVersion,e.aggregate={ranking:r,diff:{top:e.score-d.score,average:void 0}}})),u.push(d)},y=0,j=i;y<j.length;y++)h();if(!n.canceled){e.next=6;break}return e.abrupt("return",{v:null});case 6:if((f+=1)%d!==0){e.next=11;break}return t(Math.round(f/o.length*100)),e.next=11,p(0);case 11:case"end":return e.stop()}}),e)})),x=0,b=o;case 8:if(!(x<b.length)){e.next=16;break}return e.delegateYield(h(),"t0",10);case 10:if("object"!==typeof(y=e.t0)){e.next=13;break}return e.abrupt("return",y.v);case 13:x++,e.next=8;break;case 16:return e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}()},88162:function(e){e.exports={container:"_5c3d9473",videoContainer:"e771c5ab",video:"c60d0ceb",table:"_4ab63e6f",resultWinRow:"_23bf7ea7",resultLoseRow:"_7133a05c",parentRow:"_78c9f1f6",childRow:"_761e07bd",teamLabel:"a90c5fbe",cards:"_6ce6a27e",officialLink:"_6b575506"}},83985:function(e){e.exports={normal:"_9e005939",hyper:"_84baf85c",another:"_8a313147",leggendaria:"c4783c5d",beginner:"_1673e18c",score:"_68ae1293",rate:"_68d3e05b",rateXs:"b8bd9945",rateBarContainer:"bec8bbf4",rateBar:"_108bc59e",playSide:"_789a27c8",option:"_5958b101",best:"_1eb19666",personalBest:"_775723b0",notes:"_24e0588d",level:"ea92e4be",difficulty:"fdecb729",rank:"f9c82a76",rankDiff:"c517fa2f",expand:"_0910fadc",version:"e741ef7e",diff:"_96a4ce65",prefecture:"_1528d3fe",topDiff:"_071c5966",rivalDiff:"_46c0967c",teamLabel:"_4100625d",playerName:"_27c8390e",result:"afe976dc",order:"a495b85f",orderInner:"_63e37608",parent:"c8726c8a",titleAndNotes:"_6d37ea4b",titleAndDifficulty:"_5c044883"}}}]);