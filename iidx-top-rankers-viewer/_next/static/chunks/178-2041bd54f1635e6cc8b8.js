(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{71753:function(e,r,t){"use strict";t.d(r,{Z:function(){return C}});var n=t(85893),a=t(7085),i=(t(15144),t(2307)),s=(t(30467),t(55673)),c=(t(58136),t(5789)),o=(t(23461),t(53740)),d=(t(54277),t(74048)),l=(t(56120),t(74253)),u=t(51436),f=t(17625),p=(t(1025),t(65400)),h=(t(65245),t(91075)),v=(t(77785),t(59361)),m=t(67294),x=t(87053),b=t(47125),y=t(84088),j=t.n(y),w=function(e){return function(r,t){return"children"in t?{children:"",props:{colSpan:0}}:e(r,t)}},g=function(e){return"children"in e},k=function(e){var r=e.row,t=e.playVideo,a=(0,m.useState)(),i=a[0],o=a[1],l="#video-".concat(r.date.format("YYYYMMDD"));return(0,n.jsx)(d.default,{direction:"vertical",style:{width:"100%"},children:(0,n.jsxs)(s.Z,{justify:"space-between",align:"middle",wrap:!1,style:{width:"100%"},gutter:[8,8],children:[(0,n.jsx)(c.Z,{children:(0,n.jsxs)(d.default,{direction:"vertical",children:[(0,n.jsxs)(d.default,{children:["Selector:",(0,n.jsx)("span",{className:j().teamLabel,style:{borderBottom:"3px solid ".concat(x.lA[r.selectedTeam])},children:r.selectedTeam}),r.strategy&&(0,n.jsxs)(d.default,{size:[4,0],children:[(0,n.jsx)(f.G,{icon:u.QmK}),"Strategy"]})]}),(0,n.jsxs)(d.default,{className:j().titleAndNotes,children:[(0,n.jsxs)(v.Z,{children:["\u2606",r.level]}),(0,n.jsxs)("span",{className:j().titleAndDifficulty,children:[r.title,"(",r.difficulty.shortName,")"]}),(0,n.jsxs)("span",{children:[r.notes," notes"]})]})]})}),(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(h.Z,{style:{display:"none"},children:(0,n.jsx)(h.Z.Link,{href:l,title:"",ref:function(e){return o(e)}})}),(0,n.jsx)(p.default,{type:"ghost",onClick:function(){var e;null===i||void 0===i||null===(e=i.context)||void 0===e||e.scrollTo(l),t(r.start)},children:(0,n.jsx)(f.G,{icon:u.zc})})]})]})})},N=t(27484),_=t.n(N),S=t(10285),O=t.n(S),R=t(41664),Z=t(22004),D=t(41658),I=t.n(D);_().extend(O());var M=function(e){return"children"in e},P=function(e){var r=e.parsedCsv,t=e.history,a=(0,m.useState)(),p=a[0],h=a[1],v=(0,m.useCallback)((function(e){var r=_()("00:".concat(e).substr(-8),"H:m:s").diff(_()("00:00:00","H:m:s"),"seconds");p.seekTo(r),p.getInternalPlayer().playVideo()}),[p]),y=(0,m.useMemo)((function(){return function(e){var r=[{dataIndex:"order",render:function(e,r){return g(r)?{children:(0,n.jsxs)("div",{className:j().orderInner,children:[r.order.name," - ",r.theme]}),props:{className:j().order,rowSpan:0===r.musicNum?6:0}}:{props:{rowSpan:0}}},width:"2.5em"},{dataIndex:"result",render:w((function(e,r){return"win"===r.result||"draw"===r.result?{children:(0,n.jsx)(f.G,{icon:u._su}),props:{style:{backgroundColor:r.team.color}}}:""})),className:j().result,width:"2em",colSpan:0},{dataIndex:"player",title:"player",render:function(t,a){return g(a)?{children:(0,n.jsx)(k,{row:a,playVideo:e}),props:{className:j().parent,colSpan:r.length-1}}:{children:t,props:{className:j().playerName}}},width:"4em",colSpan:2},{dataIndex:"score",title:"score",render:w((function(e,r){return{children:e,props:{className:r.best>0&&r.score>=r.best&&j().personalBest}}})),className:j().score,width:"4em"},{dataIndex:"rivalDiff",title:"diff",render:w((function(e,r){return"win"===r.result?(0,b.S2)(r.rivalDiff):""})),className:j().rivalDiff,width:"2em"},{dataIndex:"rateMd",title:"rate",className:j().rate,render:w((function(e,r){var t=void 0===r.rate.rate?0:r.rate.rate;return(0,n.jsx)("div",{className:j().rateBarContainer,children:t>0&&(0,n.jsxs)("div",{className:j().rateBar,style:{width:"".concat(100*t,"%"),background:r.team.color},children:[r.rate.percent,"%"]})})})),width:"9em",responsive:["sm"]},{dataIndex:"rateSm",title:"rate",className:j().rateXs,render:w((function(e,r){return void 0===r.rate.rate?"-":"".concat(r.rate.percent,"%")})),width:"4em",responsive:["xs"]},{dataIndex:"rank",title:"rank",render:w((function(e,r){return r.rank.rank})),className:j().rank,width:"3em"},{dataIndex:"rankDiff",title:"\xb1",render:w((function(e,r){return"".concat(r.rank.around.rank," ").concat((0,b.S2)(r.rank.around.diff))})),className:j().rankDiff,width:"4em"},{dataIndex:"playSideMd",title:"side",className:j().playSide,render:w((function(e,r){return"".concat(r.playSide,"P")})),width:"2em",colSpan:0,responsive:["sm"]},{dataIndex:"optionMd",title:"option",className:j().option,render:w((function(e,r){return(0,n.jsxs)("span",{children:[r.legacy&&(0,n.jsx)("div",{children:"LEGACY"}),(0,n.jsx)("div",{children:x.X3[r.option]})]})})),width:"2em",colSpan:2,responsive:["sm"]},{dataIndex:"bestMd",title:"best",className:j().best,render:w((function(e,r){return void 0===r.best?"":0===r.best?"-":r.best})),width:"2em",colSpan:2,responsive:["sm"]}];return r}(v)}),[v]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Z,{}),(0,n.jsxs)(o.Z.Title,{level:3,id:"video-".concat(t.date.format("YYYYMMDD")),children:[t.date.format("M/D")," ",t.title,(0,n.jsx)(R.default,{href:t.link,children:(0,n.jsx)("a",{className:I().officialLink,target:"_blank",children:(0,n.jsxs)(d.default,{size:[4,0],children:[(0,n.jsx)(f.G,{icon:u.Xjp}),"\u516c\u5f0fHP"]})})})]}),(0,n.jsxs)(d.default,{direction:"vertical",className:I().container,children:[(0,n.jsx)("div",{className:I().videoContainer,children:(0,n.jsx)(Z.Z,{url:"https://www.youtube.com/watch?v=".concat(t.movie.id),className:I().video,ref:function(e){return h(e)},controls:!0,width:"100%",height:"100%"})}),(0,n.jsx)(d.default,{size:"large",wrap:!0,className:I().cards,align:"start",children:t.cards.map((function(e,t){return(0,n.jsx)("div",{children:(0,n.jsxs)(d.default,{direction:"vertical",children:[(0,n.jsx)(o.Z.Title,{level:4,children:e.title}),(0,n.jsx)(s.Z,{justify:"center",children:(0,n.jsx)(c.Z,{children:(0,n.jsxs)(d.default,{children:[(0,n.jsx)("span",{className:I().teamLabel,style:{borderBottom:"3px solid ".concat(x.lA[e.vs[0]])},children:e.vs[0]}),"vs",(0,n.jsx)("span",{className:I().teamLabel,style:{borderBottom:"3px solid ".concat(x.lA[e.vs[1]])},children:e.vs[1]})]})})}),(0,n.jsx)(i.Z,{className:I().table,dataSource:r[t],columns:y,pagination:!1,size:"small",rowClassName:function(e){return["win"===e.result?I().resultWinRow:"lose"===e.result?I().resultLoseRow:"",e.orderLast?I().orderLastRow:"",M(e)?I().parentRow:I().childRow].join(" ")},expandable:{expandIconColumnIndex:-1,expandedRowKeys:r[t].map((function(e){return e.key}))}})]})},e.vs.toString())}))})]})]},t.date.toString())})},C=function(e){var r=e.histories,t=(0,m.useState)(),i=t[0],s=t[1];return(0,m.useEffect)((function(){var e=(0,x.EQ)(r);s(e)}),[r]),i?(0,n.jsx)(n.Fragment,{children:r.map((function(e,r){return(0,n.jsx)("div",{children:(0,n.jsx)(P,{history:e,parsedCsv:i[r]})},e.date.toString())}))}):(0,n.jsx)(a.Z,{})}},47125:function(e,r,t){"use strict";t.d(r,{S2:function(){return l},Sx:function(){return u},Ps:function(){return h},OA:function(){return v}});var n=t(809),a=t.n(n),i=t(26265),s=t(59999),c=t(92447);function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=function(e){return void 0===e||isNaN(e)?"-":"".concat(0===e?"\xb1":e>0?"+":"").concat(e)},u=function(e){return"undefined"===typeof e?"":e.toFixed(1)},f=function(e){var r=e.reduce((function(e,r){return e+r.score}),0);return Math.round(r/e.length*10)/10},p=function(e){return new Promise((function(r){return setTimeout(r,e)}))},h=function(){var e=(0,c.Z)(a().mark((function e(r,t,n){var i,c,o,l,u,h,v,m,x,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,s.Z)(r),c=i.shift(),o=Object.keys(c.parsed),l=Math.floor(o.length/100),u=[],h=1,v=a().mark((function e(){var r,s,v,b,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=x[m],s=Object.keys(c.parsed[r]),v=function(){var e,t=y[b],n=null===(e=c.parsed[r])||void 0===e?void 0:e[t];n.childRows=i.map((function(e,a){var i,s=null===(i=e.parsed[r])||void 0===i?void 0:i[t];return s?d(d({},s),{},{key:"".concat(n.key,"-").concat(a,"-").concat(s.key)}):null})).filter(Boolean).sort((function(e,r){return n.prefecture===r.prefecture?1:r.score-e.score}));var a=f(n.childRows),s=f(n.childRows.slice(0,3)),o=f(n.childRows.slice(0,5)),l=f(n.childRows.slice(0,10)),p=n.childRows[0],h=n.childRows.slice().sort((function(e,r){return r.score-e.score})).map((function(e){return e.score}));n.average={all:a,top3:s,top5:o,top10:l},n.aggregate={ranking:0,diff:{top:0,average:n.score-a}},n.childRows.forEach((function(e){e.aggregate={ranking:p.prefecture.num===e.prefecture.num?0:isNaN(e.score)?void 0:h.indexOf(e.score)+1,diff:{top:e.score-p.score,average:e.score-a}}})),u.push(n)},b=0,y=s;b<y.length;b++)v();if(!n.canceled){e.next=6;break}return e.abrupt("return",{v:null});case 6:if((h+=1)%l!==0){e.next=11;break}return t(Math.round(h/o.length*100)),e.next=11,p(0);case 11:case"end":return e.stop()}}),e)})),m=0,x=o;case 8:if(!(m<x.length)){e.next=16;break}return e.delegateYield(v(),"t0",10);case 10:if("object"!==typeof(b=e.t0)){e.next=13;break}return e.abrupt("return",b.v);case 13:m++,e.next=8;break;case 16:return e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),v=function(){var e=(0,c.Z)(a().mark((function e(r,t,n){var i,c,o,l,u,f,h,v,m,x;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,s.Z)(r),c=i[0],o=Object.keys(c.parsed),l=Math.floor(o.length/100),u=[],f=1,h=a().mark((function e(){var r,s,h,x,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=m[v],s=Object.keys(c.parsed[r]),h=function(){var e,t=b[x],n=null===(e=c.parsed[r])||void 0===e?void 0:e[t],a=i.map((function(e,a){var i,s=null===(i=e.parsed[r])||void 0===i?void 0:i[t];return s?d(d({},s),{},{key:"".concat(n.key,"-").concat(a,"-").concat(s.key)}):{playVersion:e.version,title:n.title,version:n.version,difficulty:n.difficulty,rate:{rate:void 0},prefecture:{name:void 0},rank:{rank:void 0,next:{rank:void 0},prev:{rank:void 0},around:{rank:void 0}},score:void 0}})),s=a.slice().sort((function(e,r){return void 0===r.score?0:r.score-e.score})).map((function(e){return e.score})),o=s[0],l=d({},a.slice().reverse().find((function(e){return e.score===o})));l.childRows=a,l.aggregate={ranking:0,diff:{top:0,average:void 0}},l.topPlayVersion=l.playVersion,l.childRows.forEach((function(e){e.topPlayVersion=l.playVersion,e.aggregate={ranking:l.playVersion.num===e.playVersion.num?0:isNaN(e.score)?void 0:s.indexOf(e.score)+1,diff:{top:e.score-l.score,average:void 0}}})),u.push(l)},x=0,b=s;x<b.length;x++)h();if(!n.canceled){e.next=6;break}return e.abrupt("return",{v:null});case 6:if((f+=1)%l!==0){e.next=11;break}return t(Math.round(f/o.length*100)),e.next=11,p(0);case 11:case"end":return e.stop()}}),e)})),v=0,m=o;case 8:if(!(v<m.length)){e.next=16;break}return e.delegateYield(h(),"t0",10);case 10:if("object"!==typeof(x=e.t0)){e.next=13;break}return e.abrupt("return",x.v);case 13:v++,e.next=8;break;case 16:return e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}()},41658:function(e){e.exports={container:"_36e637e3",videoContainer:"_28fccd3e",video:"_74764c9a",table:"_9173e46e",resultWinRow:"b098f01e",resultLoseRow:"b1781546",parentRow:"_48cbc1d0",childRow:"_706df016",teamLabel:"_54e86efc",cards:"_3f1f3e8a",officialLink:"_42d53248"}},84088:function(e){e.exports={normal:"_25312935",hyper:"_87f4485c",another:"_256dd72a",leggendaria:"_45a67e85",beginner:"_5e132539",score:"df3f3367",rate:"b362fd78",rateXs:"_82c3d0b5",rateBarContainer:"_71d85f17",rateBar:"f1a6f3d3",playSide:"_818c53c3",option:"_079d35a8",best:"bb7de553",personalBest:"_501e83a7",notes:"ad6ff610",level:"b770a5fa",difficulty:"_60e9abd0",rank:"_204af158",rankDiff:"_0a61fa78",expand:"_252ae22f",version:"_4ad4870b",diff:"b7187807",prefecture:"bdbcdc72",topDiff:"_7a2c5056",rivalDiff:"_752ac134",teamLabel:"_3447390c",playerName:"_14868206",result:"_9c112170",order:"_644d62cd",orderInner:"dc2ee902",parent:"_53b5e223",titleAndNotes:"d742d258",titleAndDifficulty:"_8c41626c"}}}]);